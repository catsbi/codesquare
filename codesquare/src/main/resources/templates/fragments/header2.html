<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<meta id="_csrf" name="_csrf" th:content="${_csrf.token}" />
<!-- default header name is X-CSRF-TOKEN -->
<meta id="_csrf_header" name="_csrf_header"
	th:content="${_csrf.headerName}" />
<header th:fragment="headerFragment2">

	<!--  최상단 로그인/회원가입 -->
	<div class="row py-2 secbar">
		<div sec:authorize="isAuthenticated()">
			<input type="hidden" id="userId" th:value="@{${session.userId}}">

<!-- 버튼테스트 -->
<!-- 		<div class="well">
			소켓연결 끊기 <button id="disconnect" onclick="disconnect()">Disconnect</button>
		</div> -->
<!-- 		<button id="btnSend" onclick="join()">가입test</button>
		<button onclick="reply()">댓글test</button> -->

		<!-- 알림 -->
		<div id="zzz"><div class="noti-dropdown">
			<a onclick="myFunction()" id="noti-btn" class="noti-btn"> <img
				id="noticeImg" width="25" height="25" class="noti-btn"
				src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSKkXfRt5S4d9AsGllPR2vOmP6MWQff4ZnJYky3erxeoD6Yl3f-zw"
				alt="Course noti">
			</a>

			<div id="counts" class="noti-count"></div></div>

			<div id="myDropdown" class="dropdown-content">
				<div class="header">
					<span id="noti-title"> 알림</span>
					<button id="read-btn">읽은 알림 삭제</button>
					<button id="all-btn" onclick="allDelete()">모두삭제 l</button>
				</div>

				<ul id="messages" name="messages">
					<!-- <li>test</li>
									$('#messages').prepend	 -->

				</ul>

			</div>
			<!-- 푸쉬 팝업 -->
			<div id="pushbar" align="right">
				<img class="push_img" src='/static/images/logo123.png' />
				<div id="text">
					<strong> Notification
						&emsp;&emsp;&emsp;&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong> <span
						class="close">&times;</span> </br> 회원님의 게시글에 댓글이 달렸습니다.
				</div>
			</div>
		</div>
		<!-- 알림닫힘 -->

			<div class="dropdown px-2">
				<div class="dropdown-toggle" data-toggle="dropdown">
					<img th:src="@{${session.profileImagePath}}" class="profileImg" />
					<span id="headerNickName" class="px-3"
						th:text="${session.nickName}"></span>
				</div>
				<div class="dropdown-menu text-center dropdown-menu-right">
					<a class="dropdown-item" th:href="@{/member/myPage}">마이페이지</a> 
					<div 
							sec:authorize="hasRole('ROLE_3') ">
					<a class="dropdown-item" th:href="@{/admin}">관리자 페이지</a></div>
					<a class="dropdown-item" id="myMessage" href="#">내 쪽지함</a> <a
						class="dropdown-item" th:href="@{/logout}">로그아웃</a>
				</div>
			</div>

		</div>
		<div sec:authorize="isAnonymous()">
			<ul>
				<li><a th:href="@{/member/login}">로그인</a></li>
				<li><a th:href="@{/member/signUp}">회원가입</a></li>
			</ul>
		</div>
	</div>
<br/>
	<!-- 로고 -->

	<div class="logo" style="margin-bottom: -20px;">
		<div class="col codesquare py-0">
			<a th:href="@{/}"><img th:src="@{/static/images/logo.png}"
				alt="noimg" /> 코드스퀘어</a>
		</div>
	</div>


	<!-- 메뉴 -->
	<nav class="nav justify-content-center">
		<div class="col ">
			<span class="dropmenu"><a href="#"> 새소식</a> </span>
			<ul class="dropdown">
				<li><a href="/getfree/NewNt">공지사항</a></li>
				<li><a href="/getfree/NewIt">IT NEWS</a></li>
			</ul>
		</div>


		<div class="col">
			<span class="dropmenu"> <a href="#">스터디 / 세미나</a>
			</span>
			<ul class="dropdown">
				<li><a href="/study/StdMo">스터디 모집</a></li>
				<li><a href="/seminarList">세미나 모집</a></li>
				<li><a href="/getfree/StdHu">스터디 / 세미나 후기</a></li>
				<li><a href="/companyList">공간예약</a></li>
			</ul>
		</div>

		<div class="col">
			<span class="dropmenu"> <a href="#">커뮤니티</a>
			</span>
			<ul class="dropdown">
				<li><a href="/getfree/ComFr">자유게시판</a></li>
				<li><a href="/getfree/ComQa">질문있어요</a></li>
			</ul>
		</div>


		<div class="col">
			<span class="dropmenu"> <a href="/learn">프로그래밍 강의</a>
			</span>

		</div>

		<div class="col">
			<span class="dropmenu"> <a href="/dashboard">플래너</a>
			</span>

		</div>
	</nav>
</header>

</html>